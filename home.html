<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>CDM机场返航备降系统</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="stylesheet" href="plugins/bootstrap/dist/css/normalize.css">
    <link rel="stylesheet" href="plugins/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="plugins/dialog-factory/css/bootstrap-dialog-factory.css">
    <link rel="stylesheet" href="plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="plugins/jqgrid/css/ui.jqgrid-bootstrap.css">
    <link rel="stylesheet" href="plugins/jqgrid/css/ui.jqgrid-bootstrap-custom.css">
    <link rel="stylesheet" href="plugins/bootstrap-validator/dist/css/bootstrapValidator.css">
    <link rel="stylesheet" href="plugins/ladda/css/ladda.css">
    <link rel="stylesheet" href="plugins/qtip2/css/jquery.qtip.min.css">
    <link rel="stylesheet" href="plugins/qtip2/css/jquery.qtip-custom.css">
    <link rel="stylesheet" href="plugins/jquery-ui/css/jquery-ui.min.css">
    <link rel="stylesheet" href="plugins/jquery-manifest/css/jquery.manifest.css">
    <!--dhx-->
    <link rel="stylesheet" href="plugins/dhx/skins/terrace/dhtmlx.css">
    <link rel="stylesheet" href="plugins/dhx/windows/skins/dhtmlxwindows_custom.css">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/alternate-airport.css">
</head>

<body>
<div class="app-transition">
    <div class="navbar">
        <div class="slogan">CDM机场返航备降系统</div>
        <div class="login-time"></div>
        <div class="glyphicon glyphicon-user icon"></div>
        <div class="user-name"></div>
        <div class="logout" ><button class="atfm-btn atfm-btn-sm atfm-btn-blue user_logout">登出</button></div>
    </div>
    <div class="menu-bar">
        <ul class="menu-list"></ul>
        <ul class="option"></ul>
    </div>
    <div class="main-area"></div>

</div>
</body>
<script type="text/javascript" src="js/iphost.js"></script>
<script type="text/javascript" src="plugins/jquery/js/jquery.min.js"></script>
<script type="text/javascript" src="plugins/jquery/js/jquery-custom-util.js"></script>
<script type="text/javascript" src="plugins/jquery/js/jquery-ui.min.1.9.2.js"></script>
<!--dhx-->
<script type="text/javascript" src="plugins/dhx/dhtmlx.js"></script>
<script type="text/javascript" src="plugins/iframe_dialog/dhx_iframe_dialog.js"></script>
<script type="text/javascript" src="plugins/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="plugins/dialog-factory/bootstrap-dialog-factory.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/bootstrap-datepicker/js/bootstrap-datepicker.zh-CN.min.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/jqgrid/js/jquery.jqGrid.5.2.0.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/jqgrid/js/jquery.jqGrid.util.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/jqgrid/js/jquery.jqGrid.extendsFunc.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/jszip/jszip.min.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/jqgrid/i18n/grid.locale-cn.js" type="text/javascript"></script>
<script type="text/javascript" src="plugins/ladda/js/spin.min.js" type="text/javascript" ></script>
<script type="text/javascript" src="plugins/bootstrap-validator/dist/js/bootstrapValidator.min.js"></script>
<script type="text/javascript" src="plugins/bootstrap-validator/dist/js/bootstrapValidator-all.js"></script>
<script type="text/javascript" src="plugins/bootstrap-validator/dist/js/atfmCustomValidatorRules.js"></script>
<script type="text/javascript" src="plugins/ladda/js/ladda.js" type="text/javascript" ></script>
<script type="text/javascript" src="plugins/qtip2/js/jquery.qtip.min.js"></script>
<!--<script src="plugins/jquery-ui/js/jquery-ui.min.js"></script>-->
<script type="text/javascript" src="plugins/handlebars/handlebars-v4.0.11.js"></script>
<script type="text/javascript" src="plugins/jquery-manifest/js/jquery.manifest.js"></script>

<!--通用方法-->
<script type="text/javascript" src="js/common.js"></script>
<!--表单模块通用方法-->
<script type="text/javascript" src="js/form-module.js"></script>
<script type="text/javascript" src="js/history-form-module.js"></script>
<!-- 表格通用方法-->
<script type="text/javascript" src="js/grid-table.js"></script>
<!--表格配置-->
<script type="text/javascript" src="js/grid-table-config.js"></script>
<!--表格协调容器节点-->
<script type="text/javascript" src="js/grid-table-collaborate-dom.js"></script>
<!-- 表格列操作url -->
<script type="text/javascript" src="js/grid-table-collaborate-url.js"></script>
<!--拖动排序组件-->
<script type="text/javascript" src="js/sortable-part.js"></script>

<!--主脚本-->
<script type="text/javascript" src="js/iphost.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/layout-event.js"></script>

<script type="text/javascript" src="js/position-config.js"></script>
<script type="text/javascript" src="js/alternate-airport-volume.js"></script>

<!--复杂天气切换模板-->
<script id="option-template" type="text/x-handlebars-template">
    {{#if this.id_4560}}
    <li>
        <a href="javascript:;" class="limit-option">
            <input class="magic-checkbox" type="checkbox"  id="change-weather-model">
            <label for="change-weather-model">开启复杂天气模式</label>
        </a>
    </li>
    <li >
        <span class="alert"></span>
    </li>

    {{/if}}
</script>

<!--导航栏模板-->
<script id="menu-template" type="text/x-handlebars-template">
    {{#if this.id_4000}}
    <li >
    <a href="javascript:;">进港计划</a>
    </li>
    {{/if}}
    {{#if this.id_4100}}
    <li>
        <a href="javascript:;" >疆内飞越</a>
    </li>
    {{/if}}
    {{#if this.id_4200}}
    <li>
        <a href="javascript:;" >备降计划</a>
    </li>
    {{/if}}
    {{#if this.id_4210}}
    <li>
        <a href="javascript:;" >备降历史</a>
    </li>
    {{/if}}

    {{#if this.id_4300}}
    <li class="alternate-airport">
        <a href="javascript:;" >备降场容量</a>
    </li>
    {{/if}}
    {{#if this.id_4400}}
    <li class="position-config">
        <a href="javascript:;" >机位分类配置</a>
    </li>
    {{/if}}

</script>
<!--模块内容模板-->
<script id="section-template" type="text/x-handlebars-template">
    {{#if this.id_4000}}
    <!--模块1 进港计划-->
    <section class="arr-module ">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">进港计划</div>
                <div class="time"></div>
            </div>
            <div class="panel-body">
                <!-- 表单面板-->
                <ul class="form-panel" >
                    <li class="form-item">
                        <label class="title">范围</label>
                        <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">

                                </ul>
                            </div>
                        </div>

                    </li>
                    <li class="form-item">
                        <label class="title">关键字</label>
                        <input type="text" class="input-sm form-control key">
                    </li>

                    <li class="form-item one-child">
                        <button class="atfm-btn atfm-btn-blue ladda-button inquire" data-style="zoom-out">
                            <span class="ladda-label">查询</span>
                        </button>
                    </li>

                    <!--提示信息-->
                    <li class="form-item">
                        <span class="alert"></span>
                    </li>

                </ul>
                <!-- 查询条件显示-->
                <ul class="condition-panel hidden">
                    <li class="form-item">
                        当前查询条件:
                    </li>
                    <li class="form-item scope"></li>
                    <li class="form-item key"></li>
                </ul>
                <!-- 数据可视化区(图表,表格)-->
                <div class="result-panel">
                    <table id="arr-table"></table>
                    <div id="arr-table-pager"></div>
                </div>
            </div>
        </div>
    </section>
    {{/if}}
    {{#if this.id_4100}}
    <!--模块4 疆内飞越-->
    <section class="over-module">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">疆内飞越</div>
                <div class="time"></div>
            </div>
            <div class="panel-body">
                <!-- 表单面板-->
                <ul class="form-panel" >
                    <li class="form-item">
                        <label class="title">范围</label>
                        <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    飞越全部
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">

                                </ul>
                            </div>
                        </div>

                    </li>
                    <li class="form-item">
                        <label class="title">关键字</label>
                        <input type="text" class="input-sm form-control key">
                    </li>

                    <li class="form-item one-child">
                        <button class="atfm-btn atfm-btn-blue ladda-button inquire" data-style="zoom-out">
                            <span class="ladda-label">查询</span>
                        </button>
                    </li>

                    <li class="form-item">
                        <a href="javascript:;" class="limit-option">
                            <input class="magic-checkbox" type="checkbox" id="set-filter" >
                            <label for="set-filter">任务为X不显示</label>
                        </a>
                    </li>

                    <!--提示信息-->
                    <li class="form-item">
                        <span class="alert"></span>
                    </li>

                </ul>
                <!-- 查询条件显示-->
                <ul class="condition-panel hidden">
                    <li class="form-item">
                        当前查询条件:
                    </li>
                    <li class="form-item scope"></li>
                    <li class="form-item key"></li>
                </ul>
                <!-- 数据可视化区(图表,表格)-->
                <div class="result-panel">
                    <table id="over-table"></table>
                    <div id="over-table-pager"></div>
                </div>
            </div>
        </div>
    </section>
    {{/if}}
    {{#if this.id_4200}}
    <!--模块2 备降计划-->
    <section class="alternate-module">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">备降计划</div>
                <div class="time"></div>
            </div>
            <div class="panel-body">
                <!-- 表单面板-->
                <ul class="form-panel" >
                    <li class="form-item">
                        <label class="title">范围</label>
                        <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">

                                </ul>
                            </div>
                        </div>
                    </li>
                    <li class="form-item">
                        <label class="title">关键字</label>
                        <input type="text" class="input-sm form-control key">
                    </li>

                    <li class="form-item one-child">
                        <button class="atfm-btn atfm-btn-blue ladda-button inquire" data-style="zoom-out">
                            <span class="ladda-label">查询</span>
                        </button>
                    </li>

                    <!--提示信息-->
                    <li class="form-item">
                        <span class="alert"></span>
                    </li>
                </ul>
                <!-- 查询条件显示-->
                <ul class="condition-panel hidden">
                    <li class="form-item">
                        当前查询条件:
                    </li>
                    <li class="form-item scope"></li>
                    <li class="form-item key"></li>
                </ul>
                <!-- 数据可视化区(图表,表格)-->
                <div class="result-panel">
                    <table id="alternate-table"></table>
                    <div id="alternate-table-pager"></div>
                </div>
            </div>
        </div>
    </section>
    {{/if}}
    {{#if this.id_4210}}
    <!--模块3 备降历史-->
    <section class="alternate-history-module">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">备降历史</div>
                <div class="time"></div>
            </div>
            <div class="panel-body">
                <!-- 表单面板-->
                <ul class="form-panel" >
                    <li class="form-item"><label>开始日期</label><input type="text" class="start-date form-control" maxlength="8" value="" readonly=""></li>
                    <li class="form-item"><label>结束日期</label><input type="text" class="end-date form-control" maxlength="8" value="" readonly=""></li>
                    <li class="form-item one-child">
                        <button class="atfm-btn atfm-btn-blue ladda-button inquire" data-style="zoom-out">
                            <span class="ladda-label">查询历史</span>
                        </button>
                    </li>
                    <!--提示信息-->
                    <li class="form-item">
                        <span class="alert"></span>
                    </li>
                </ul>
                <!-- 查询条件显示-->
                <ul class="condition-panel hidden">
                    <li class="form-item">
                        当前查询条件:
                    </li>
                    <li class="form-item scope"></li>
                    <li class="form-item key"></li>
                </ul>
                <!-- 数据可视化区(图表,表格)-->
                <div class="result-panel">
                    <table id="alternate-history-table"></table>
                    <div id="alternate-history-table-pager"></div>
                </div>
            </div>
        </div>
    </section>
    {{/if}}



    <!--模块4-->
    <!-- <section class="dep-module">
         <div class="panel panel-default">
             <div class="panel-heading">
                 <div class="poster">出港计划</div>
                 <div class="time"></div>
             </div>
             <div class="panel-body">
                 &lt;!&ndash; 表单面板&ndash;&gt;
                 <ul class="form-panel" >
                     <li class="form-item">
                         <label class="title">范围</label>
                         <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                             <div class="btn-group" role="group">
                                 <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                     疆出未落地
                                     <span class="caret"></span>
                                 </button>
                                 <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">

                                 </ul>
                             </div>
                         </div>
                     </li>
                     <li class="form-item">
                         <label class="title">关键字</label>
                         <input type="text" class="input-sm form-control key">
                     </li>

                     <li class="form-item one-child">
                         <button class="atfm-btn atfm-btn-blue ladda-button inquire" data-style="zoom-out">
                             <span class="ladda-label">查询</span>
                         </button>
                     </li>
                     &lt;!&ndash;提示信息&ndash;&gt;
                     <li class="form-item">
                         <span class="alert"></span>
                     </li>

                 </ul>
                 &lt;!&ndash; 查询条件显示&ndash;&gt;
                 <ul class="condition-panel hidden">
                     <li class="form-item">
                         当前查询条件:
                     </li>
                     <li class="form-item scope"></li>
                     <li class="form-item key"></li>
                 </ul>
                 &lt;!&ndash; 数据可视化区(图表,表格)&ndash;&gt;
                 <div class="result-panel">
                     <table id="dep-table"></table>
                     <div id="dep-table-pager"></div>
                 </div>
             </div>
         </div>
     </section>-->
    {{#if this.id_4300}}
    <!--模块5-->
    <section class="alter_volume">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">备降场容量</div>
                <div class="alter_volume_time">数据生成时间：2018-01-12 12:45</div>
            </div>

            <div class="panel-body">
                <div class="result-panel">
                    <ul class="sub_title" >
                        <span class="total_count">合计可用</span>（不含敦煌）：
                        <span class="total_count available_capacity"> </span>
                        <span class="alert-danger error_tip">访问接口失败，请等待.....</span>
                    </ul>
                    <div class="table-contianer">
                        <table id="alernate_flight_grid_table" class="alernate_flight_grid_table" ></table>
                        <div id="ale-datas-pager"></div>
                    </div>
                    <div class="h120 des">
                        <p class="position-air"></p>
                        <div class="explain">
                            <p class="tip_container">
                                <span class="tip">不全！待添加及修正</span>
                            </p>
                            <p><span class="total_count">说明：</span>初始化时只需修改机场当前容量即可，默认为设计容量，值为零或不可用时不用填，其余值开始备降后自动计算</p>
                            <p><span class="total_count">合计可用：</span>为该机场所有可用停机位之和，小于等于3显示橙红色</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {{/if}}
    {{#if this.id_4400}}
    <!--模块6-->
    <section class="position-module">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="poster">机位分类配置</div>
                <div class="time"></div>
            </div>
            <div class="panel-body">
                <ul class="form-panel flex-end" >
                    {{#if this.id_4410}}
                    <li class="form-item">
                        <button class="atfm-btn atfm-btn-blue ladda-button add-btn">
                            添加机位分类
                        </button>
                    </li>
                    {{/if}}
                    {{#if this.id_4440}}

                    <li class="form-item">
                        <button class="atfm-btn atfm-btn-blue ladda-button revert-btn">
                            还原排序
                        </button>
                    </li>
                    <li class="form-item">
                        <button class="atfm-btn atfm-btn-blue ladda-button save-btn">
                            保存排序
                        </button>
                    </li>
                    {{/if}}
                    <!--提示信息-->
                    <li class="form-item">
                        <span class="alert"></span>
                    </li>


                </ul>


                <!-- 数据可视化区(图表,表格)-->
                <div class="result-panel " id="ddd">
                    <!--机位列表-->
                    <ul class="position-box" id="position-box">

                    </ul>

                </div>
            </div>
        </div>
    </section>
    {{/if}}

</script>

<!--机位列表模模板-->
<script id="template" type="text/x-handlebars-template">

        {{#each config}}
        <!--机位-->
        <li class="position" data-id={{id}} data-text="{{text}}">
            <!--头部-->
            <header class="position-header">
                <div class="position-name">
                    {{key}}
                </div>
                {{#if ../code.id_4420}}
                <a class="icon glyphicon glyphicon-edit" pos-id="{{id}}" pos-key="{{key}}" data-event="edit" ></a>
                {{/if}}
                {{#if ../code.id_4430}}
                <a class="icon glyphicon glyphicon-trash" pos-id="{{id}}" pos-key="{{key}}" data-event="delete" ></a>
                {{/if}}
            </header>
            <!--内容-->
            <div class="position-wrap">
                <section class="position-content thin-scroll">
                    <!--机型列表-->
                    <ul class="aircraft-type-list" >
                        {{#each value}}
                        <!--机型-->
                        <li class="item" >
                            <div class="item-name">
                                {{this}}
                            </div>
                        </li>
                        {{/each}}

                    </ul>
                </section>
                <!--<div class="aircraft-type-create">-->
                    <!--<button class="add-item atfm-btn atfm-btn-blue">添加</button>-->
                <!--</div>-->
            </div>
        </li>
    {{/each}}
</script>
<!--机位表单模板-->
<script id="form-template" type="text/x-handlebars-template">
<form id="form-position"  data-id="{{id}}" autocomplete="off">
    <section class="form-section">
        <div class="banner">
            <div class="header">
                名称
            </div>
            <div class="form-group">
                {{#if this.key}}
                <input type="text" class="form-control position-key" name="position-key" placeholder="必填" value="{{key}}" readonly disabled>
                {{else }}
                <input type="text" class="form-control position-key" name="position-key" placeholder="必填" value="{{key}}">
                {{/if}}
            </div>
            <div class="tip">
                以字母开头，长度为1~3位的全字母或字母与数字组合
            </div>

        </div>
        <div class="banner">
            <div class="header">
                描述
            </div>
            <div class="form-group">
                <input type="text" class="form-control position-text" name="position-text" placeholder="必填" value="{{text}}">
            </div>

        </div>
        <div class="banner">
            <div class="header">
                机型
            </div>
            <div class="form-group">
                <input type="text" id="position-value" class="form-control position-value" name="position-value" value="{{value}}" disableautocomplete>
            </div>
            <div class="tip">
                长度为1~6位的字母、数字或字母与数字组合，多个以逗号分隔
            </div>

        </div>

    </section>

</form>
</script>
</body>

</html>
